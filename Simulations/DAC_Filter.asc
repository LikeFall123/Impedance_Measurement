Version 4
SHEET 1 1152 680
WIRE -320 -320 -416 -320
WIRE -192 -320 -272 -320
WIRE -416 -256 -416 -320
WIRE -272 -256 -272 -320
WIRE -416 -128 -416 -176
WIRE -272 -128 -272 -176
WIRE 496 -32 336 -32
WIRE 736 -32 576 -32
WIRE -416 80 -416 16
WIRE -304 80 -304 16
WIRE 208 80 176 80
WIRE 336 80 336 -32
WIRE 336 80 288 80
WIRE 384 80 336 80
WIRE 512 80 464 80
WIRE 624 80 512 80
WIRE 736 80 736 -32
WIRE 736 80 688 80
WIRE 816 80 736 80
WIRE 336 128 336 80
WIRE 592 176 592 144
WIRE 512 192 512 80
WIRE 560 192 512 192
WIRE -416 208 -416 160
WIRE -304 208 -304 160
WIRE 736 208 736 80
WIRE 736 208 624 208
WIRE 336 224 336 192
WIRE 560 224 496 224
WIRE 496 272 496 224
WIRE 592 272 592 240
FLAG -416 -128 0
FLAG 336 224 0
FLAG 496 272 0
FLAG 176 80 DAC_Out
FLAG 816 80 DAC_Out_Filtered
FLAG -304 208 0
FLAG -304 16 +5V
FLAG -416 208 0
FLAG -416 16 -5V
FLAG 592 144 +5V
FLAG 592 272 -5V
FLAG -272 -128 0
FLAG -320 -320 vs0
FLAG -192 -320 DAC_Out
SYMBOL voltage -416 -272 R0
WINDOW 3 -83 185 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 1 {f0})
SYMBOL res 304 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 3.3k
SYMBOL res 480 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1.6k
SYMBOL res 592 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 3.3k
SYMBOL cap 320 128 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL cap 688 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 500p
SYMBOL OpAmps\\UniversalOpAmp 592 208 R0
WINDOW 0 -40 -46 Left 2
SYMATTR InstName U2
SYMBOL voltage -304 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage -416 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value -5
SYMBOL bv -272 -272 R0
SYMATTR InstName B2
SYMATTR Value V={floor(V(vs0)/vrange*nlevels)/nlevels*vrange}
TEXT -432 376 Left 2 !.tran 0 500u 0 5p
TEXT -432 328 Left 2 !.param f0=1k fs=20k
TEXT -144 344 Left 2 !.param vrange = 1\n.param nlevels=65536
